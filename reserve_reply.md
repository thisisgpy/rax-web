# Section 1

1. 列表页显示"查看”时，不需要点击事件。因为正常逻辑是跳转到对应的存量融资，但是当前存量融资模块还没有开发。提交时loanRenewalFromId 都默认传 0，等待以后存量融资模块开发后再调整。
2. 已放款和已取消的记录不允许进行任何操作。只要状态不是已放款，储备融资都可以被取消。
3. 在编辑页中，只允许修改进度信息的计划完成日期，前提是这个进度的实际完成日期还没有填写。因为填写了实际完成日期就表示这个进度已经达成，如果再允许用户修改计划完成日期，那就等于给了用户作弊的机会。进度的实际完成日期只能在“更新进度”弹窗中填写。

4. 是 reserveApi.getProgressSteps 接口。这个接口会返回所有的进度点信息，数据格式如下：

```json
[
  {
    "name": "确定金融机构",
    "gap": -3
  },
  {
    "name": "确认贷款主体",
    "gap": -3
  },
  {
    "name": "资料受理",
    "gap": -2
  },
  {
    "name": "受理报批",
    "gap": -2
  },
  {
    "name": "审批通过",
    "gap": -2
  },
  {
    "name": "签订协议",
    "gap": -1
  },
  {
    "name": "放款",
    "gap": -1
  },
]
```

5. 你的理解是正确的，所有的进度点的计划完成日期一定是在预计放款日期之前。
6. 合成本率、额外成本、成本明细三者之间没有强关联，全部允许用户自由输入，所以成本明细不需要汇总，成本明细的数量也没有上限。
7. 新增进度报告时使用 RaxUpload 组件上传附件，bizModule = ReserveReport。进度报告删除按钮不需要做权限控制，服务端会进行权限判断。
8. reserveApi.updateProgress 接口只支持单个更新，用户每填写一个进度点的实际完成日期都需要进行保存操作。用户不允许同时修改多个进度的实际完成日期，因为：
   1. 用户必须按顺序填写进度的实际完成日期
   2. 在上一个进度的实际完成日期没有填写并提交保存时，后续进度的实际完成日期不允许填写
   3. 已经填写的实际完成日期不允许再次修改
   4. 当 用户填写的实际完成日期 - 计划完成日期 > 0 时，需要提醒用户系统将判定该进度延期 X 天，用户二次确认后再提交保存
9. 列表页需要搜索功能，搜索字段已定义在类型 QueryReserveDto 中。
10. 融资金额必须大于 0，没有上限限制；综合成本率在 0 ～ 100% 之间。日期选择限制如下：
    1. 各个进度的计划完成日期不能早于预计放款日期
    2. 各个进度的实际完成日期不能晚于当前日期

# section 2

1. 服务端会维护储备融资从待放款到已放款的状态变化，前端不需要介入。取消操作在列表页操作栏增加"取消"按钮，取消时用户需要填写取消原因，支持上传附件，但是取消原因要作为进度报告数据进行提交。
2. 新增储备融资时，进度点信息从 reserveApi.getProgressSteps 接口获取，这些进度点信息可能是变动的，所以前端不能硬编码，只能按照接口返回的数据顺序进行展示。用户允许跳过进度点，必须按顺序填写进度点的实际完成日期。不存在不需要进度点或不需要某个进度点的场景。
3. 只要前一个进度填写了，下一个就可以填写任意合法日期。
4. 数据字典 cost.type 中包含"其他"选项。如果用户选择"其他"并自定义输入，提交时costType 字段提交用户输入的自定义内容，不需要额外字段。
5. 新增进度报告时，除了 reportContent、附件，不需要填写其他信息。进度报告是独立的时间线记录。一次只能创建一条进度报告。
6. 不需要批量删除功能和导出功能。
7. 当 loanRenewalFromId > 0 时显示"查看"，这个文字不需要特殊样式，因为在存量融资模块开发完成后会立即来补全这个交互。对于综合成本率，你的理解是对的。
8. 新增和编辑成功后，都跳转详情页。另外，新增、编辑、详情页都需要有能够返回列表页的按钮。更新进度成功后不要关闭弹窗，这个弹窗只能用户手动关闭。
9. 搜索字段有：
   1. 融资主体（orgId）
   2. 金融机构类型（institutionType）
   3. 金融机构名称（financialInstitutionName）
   4. 金融机构分支机构名称（financialInstitutionBranchName）
   5. 融资方式（fundingMode，从数据字典funding.mode 取值）
   6. 预计放款日期范围（expectedDisbursementDateStart，expectedDisbursementDateEnd）
   7. 是否为续贷（isRenewal）
   8. 牵头领导名称（leaderName），注意当前代码中为 leaderId，我已手动修改为 leaderName
   9. 经办人名称（handlerName），注意当前代码中为 handlerId，我已手动修改 handlerName
   10. 状态（status）
10. 不需要处理网络异常导致的数据保存失败问题，正常提示用户数据保存失败即可。

# section 3

1. 取消操作的具体实现，我已经新增了对应接口，你需要根据 swagger 更新现有的接口定义和相关类型。当用户触发取消操作时，调用对应接口提交数据即可。状态的变更由服务端控制，前端只需要刷新列表。
2. 进度点数据结构没有问题。在新增、编辑提交接口时，是全页面数据一并提交，服务端能够关联上。
3. 成本明细的数据结构没有问题。成本明细数据也是随着新增、编辑的其他数据一并提交，服务端能够关联上。
4. InstitutionSelect 组件的返回值问题你需要查询现有代码，这些代码都是你生成的。
5. 进度更新接口的请求参数全部定义在类型 UpdateReserveProgressDto 中，请自行查阅。
6. 未填写实际完成日期的进度，状态显示未完成。
7. 金融机构类型（institutionType）和金融机构名称（financialInstitutionName）不是联动的，单纯的文本框供用户输入关键字。
8. 列表页分页显示接口返回的所有数据，可见性和权限由服务端控制，前端不需要关注。
9. 页面路由设计我没有异议，以你认为的最佳实践为准。
10. leaderName、handlerName 这两个字段涉及的类型定义我已全部修改。
11. 新增交互规则：已放款、已取消的储备融资，只允许查看详情，隐藏其他操作按钮。
